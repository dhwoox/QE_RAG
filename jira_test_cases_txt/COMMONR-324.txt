■ 이슈 키: COMMONR-324
■ 제목: Masking 을 이용한 사용자 정보의 선별적인 업데이트
============================================================

■ 테스트 스텝

[Step 1]
스텝 (Step)
[사용자 동기화 - Not Used 외 항목]
1. 기 등록된 사용자 클릭
2. 사용자의 Credential 추가/삭제를 통해 갯수 변경 후 저장
3. 출력로그 확인
4. 인증을 통한 동작 확인

데이터 (Data)
Credential
=> Finger/Card/Face/Visual Face/QR

예상 결과 (Expected Result)
1. 변경한 정보에 대해 업데이트 된다.
> 출력로그: 신규 프로토콜에 대한 로그 추가 예정
2. 장치에서 지원하지 않는 데이터는 전송하지 않는다.
3. 업데이트된 설정으로 동작된다.
------------------------------------------------------------
[Step 2]
스텝 (Step)
[사용자 동기화 - Not Used 외 항목]
1. 기 등록된 사용자 클릭
2. 사용자의 "Status" 설정 변경 후 저장
3. 출력로그 확인
4. 인증을 통한 동작 확인

데이터 (Data)
Status
=> Active/Inactive

예상 결과 (Expected Result)
1. 변경한 정보에 대해 업데이트 된다.
> 출력로그: 신규 프로토콜에 대한 로그 추가 예정
2. 업데이트된 설정으로 동작된다.
------------------------------------------------------------
[Step 3]
스텝 (Step)
[사용자 동기화 - Not Used 외 항목]
1. Settings> Face Group Matching
2. 설정 변경 후 저장
3. 출력로그 확인
4. 인증을 통한 동작 확인

데이터 (Data)
Face Group Matching
=> Matching Group Settings

예상 결과 (Expected Result)
1. 변경한 정보에 대해 업데이트 된다.
> 출력로그: 신규 프로토콜에 대한 로그 추가 예정
2. 장치에서 지원하지 않는 데이터는 전송하지 않는다.
3. 업데이트된 설정으로 동작된다.
------------------------------------------------------------
[Step 4]
스텝 (Step)
[사용자 동기화 - Not Used 외 항목]
1. 기 등록된 사용자 클릭
2. 사용자의 "Period" 설정 변경 후 저장
3. 출력로그 확인
4. 인증을 통한 동작 확인

데이터 (Data)
Period 설정 변경 범위
=> 현재시간 포함
=> 현재시간 미포함

예상 결과 (Expected Result)
1. 변경한 정보에 대해 업데이트 된다.
> 출력로그: 신규 프로토콜에 대한 로그 추가 예정
2. 업데이트된 설정으로 동작된다.
------------------------------------------------------------
[Step 5]
스텝 (Step)
[사용자 동기화 - Not Used 외 항목]
1. 기 등록된 사용자 클릭
2. 사용자의 "Private Auth Mode" 변경 후 저장
3. 출력로그 확인
4. 인증을 통한 동작 확인

데이터 (Data)
Private Auth Mode
=> Biometrics/Card/ID

예상 결과 (Expected Result)
1. 변경한 정보에 대해 업데이트 된다.
> 출력로그: 신규 프로토콜에 대한 로그 추가 예정
2. 업데이트된 설정으로 동작된다.
------------------------------------------------------------
[Step 6]
스텝 (Step)
[사용자 동기화 - Not Used 외 항목]
1. 기 등록된 사용자 클릭
2. 사용자의 "Private Auth Mode" 설정 변경 후 저장
3. 출력로그 확인
4. 인증을 통한 동작 확인

데이터 (Data)
Private Auth Mode
=> Extended Auth Mode

예상 결과 (Expected Result)
1. 변경한 정보에 대해 업데이트 된다.
> 출력로그: 신규 프로토콜에 대한 로그 추가 예정
2. 장치에서 지원하지 않는 데이터는 전송하지 않는다.
3. 업데이트된 설정으로 동작된다.
------------------------------------------------------------
[Step 7]
스텝 (Step)
[사용자 동기화 - Not Used 외 항목]
1. 기 등록된 사용자 클릭
2. 사용자의 "1:1 Security Level 변경 후 저장
3. 출력로그 확인
4. 인증을 통한 동작 확인

데이터 (Data)
1:1 Security Level
=> Device Default/Lowest/Low/Normal/High/Highest

예상 결과 (Expected Result)
1. 변경한 정보에 대해 업데이트 된다.
> 출력로그: 신규 프로토콜에 대한 로그 추가 예정
2. 업데이트된 설정으로 동작된다.
------------------------------------------------------------
[Step 8]
스텝 (Step)
[사용자 동기화 - Not Used 외 항목]
1. 기 등록된 사용자 클릭
2. 사용자의 "Name" 변경 후 저장
3. 출력로그 확인
4. 인증을 통한 동작 확인

데이터 (Data)
Name
=> 국문/영문/특수문자
=> 글자수

예상 결과 (Expected Result)
1. 변경한 정보에 대해 업데이트 된다.
> 출력로그: 신규 프로토콜에 대한 로그 추가 예정
2. 업데이트된 설정으로 동작된다.
------------------------------------------------------------
[Step 9]
스텝 (Step)
[사용자 동기화 - Not Used 외 항목]
1. 기 등록된 사용자 클릭
2. 사용자의 "Profile Image" 변경 후 저장
3. 출력로그 확인
4. LCD 지원장치에서 사용자의 Profile Image 업데이트 확인

데이터 (Data)
N/A

예상 결과 (Expected Result)
1. 변경한 정보에 대해 업데이트 된다.
> 출력로그: 신규 프로토콜에 대한 로그 추가 예정
2. 장치에서 지원하지 않는 데이터는 전송하지 않는다.
3. 업데이트된 설정으로 표시된다.
------------------------------------------------------------
[Step 10]
스텝 (Step)
[사용자 동기화 - Not Used 외 항목]
1. 기 등록된 사용자 클릭
2. 사용자의 "PIN" 설정 변경 후 저장
3. 출력로그 확인
4. 인증을 통한 동작 확인

데이터 (Data)
N/A

예상 결과 (Expected Result)
1. 변경한 정보에 대해 업데이트 된다.
> 출력로그: 신규 프로토콜에 대한 로그 추가 예정
2. 업데이트된 설정으로 동작된다.
------------------------------------------------------------
[Step 11]
스텝 (Step)
[사용자 동기화 - Not Used 외 항목]
1. 기 등록된 사용자 클릭
2. 사용자의 "Card" 설정 변경 후 저장
3. 출력로그 확인
4. 인증을 통한 동작 확인

데이터 (Data)
Card
=> CSN Type/Wiegand Type/Smart Card(=SCC 발급)

예상 결과 (Expected Result)
1. 변경한 정보에 대해 업데이트 된다.
> 출력로그: 신규 프로토콜에 대한 로그 추가 예정
2. 업데이트된 설정으로 동작된다.
------------------------------------------------------------
[Step 12]
스텝 (Step)
[사용자 동기화 - Not Used 외 항목]
1. 기 등록된 사용자 클릭
2. 사용자의 "Fingerprint" 설정 변경 후 저장
3. 출력로그 확인
4. 인증을 통한 동작 확인

데이터 (Data)
N/A

예상 결과 (Expected Result)
1. 변경한 정보에 대해 업데이트 된다.
> 출력로그: 신규 프로토콜에 대한 로그 추가 예정
2. 장치에서 지원하지 않는 데이터는 전송하지 않는다.
3. 업데이트된 설정으로 동작된다.
------------------------------------------------------------
[Step 13]
스텝 (Step)
[사용자 동기화 - Not Used 외 항목]
1. 기 등록된 사용자 클릭
2. 사용자의 "Face" 설정 변경 후 저장
3. 출력로그 확인
4. 인증을 통한 동작 확인

데이터 (Data)
N/A

예상 결과 (Expected Result)
1. 변경한 정보에 대해 업데이트 된다.
> 출력로그: 신규 프로토콜에 대한 로그 추가 예정
2. 장치에서 지원하지 않는 데이터는 전송하지 않는다.
3. 업데이트된 설정으로 표시된다.
------------------------------------------------------------
[Step 14]
스텝 (Step)
[사용자 동기화 - Not Used 외 항목]
1. 기 등록된 사용자 클릭
2. 사용자의 "Access Group" 설정 변경 후 저장
3. 출력로그 확인
4. 인증을 통한 동작 확인

데이터 (Data)
Access Group
=> 사용자/사용자 그룹 추가/수정/삭제

예상 결과 (Expected Result)
1. 변경한 사용자 및 사용자 그룹에 속한 사용자에 Access Group에 대한 정보가 업데이트 된다.
> 출력로그: 신규 프로토콜에 대한 로그 추가 예정
2. 업데이트된 설정으로 동작된다.

※ access control 메뉴가 아닌 user 메뉴에서 변경 시에만 해당
------------------------------------------------------------
[Step 15]
스텝 (Step)
[사용자 동기화 - Not Used 외 항목]
1. 기 등록된 사용자 클릭
2. 사용자의 "JobCode" 설정 변경 후 저장
3. 출력로그 확인
4. 인증을 통한 동작 확인

데이터 (Data)
Job Code
=> SDK 혹은 AutoTest Tool 이용

예상 결과 (Expected Result)
1. 변경한 정보에 대해 업데이트 된다.
> 출력로그: 신규 프로토콜에 대한 로그 추가 예정
2. 장치에서 지원하지 않는 데이터는 전송하지 않는다.
3. 업데이트된 설정으로 표시된다.
------------------------------------------------------------
[Step 16]
스텝 (Step)
[사용자 동기화 - Not Used 외 항목]
1. 기 등록된 사용자 클릭
2. 사용자의 "Phrase Message" 설정 변경 후 저장
3. 출력로그 확인
4. 인증을 통한 동작 확인

데이터 (Data)
Phrase Message
=> SDK 혹은 AutoTest Tool 이용

예상 결과 (Expected Result)
1. 변경한 정보에 대해 업데이트 된다.
> 출력로그: 신규 프로토콜에 대한 로그 추가 예정
2. 장치에서 지원하지 않는 데이터는 전송하지 않는다.
3. 업데이트된 설정으로 표시된다.
------------------------------------------------------------
[Step 17]
스텝 (Step)
[사용자 동기화 - Not Used 외 항목]
1. 기 등록된 사용자 클릭
2. 사용자의 "Visual Face" 설정 변경 후 저장
3. 출력로그 확인
4. 인증을 통한 동작 확인

데이터 (Data)
N/A

예상 결과 (Expected Result)
1. 변경한 정보에 대해 업데이트 된다.
> 출력로그: 신규 프로토콜에 대한 로그 추가 예정
2. 장치에서 지원하지 않는 데이터는 전송하지 않는다.
3. 업데이트된 설정으로 표시된다.
------------------------------------------------------------
[Step 18]
스텝 (Step)
[사용자 동기화 - Not Used 외 항목]
1. 기 등록된 사용자 다수 선택
2. Batch Edit> User Group 변경 후 OK
3. 출력로그 확인
4. 인증을 통한 동작 확인

데이터 (Data)
User Group
> Access Group에 설정되어진 User Group

예상 결과 (Expected Result)
1. 선택된 사용자에 Access Group에 대한 정보가 업데이트 된다.
> 출력로그: 신규 프로토콜에 대한 로그 추가 예정
2. 업데이트된 설정으로 표시된다.
------------------------------------------------------------
[Step 19]
스텝 (Step)
[사용자 동기화 - Not Used 외 항목]
1. 기 등록된 사용자 다수 선택
2. Batch Edit> User Group 변경 후 OK
3. 출력로그 확인
4. 인증을 통한 동작 확인

데이터 (Data)
User Group
> Access Group에 설정되지 않은 User Group
> Face Group Matching에 설정되지 않은 User Group

예상 결과 (Expected Result)
1. 선택된 사용자에 대해 업데이트 되지 않는다.
------------------------------------------------------------
[Step 20]
스텝 (Step)
[사용자 동기화 - Not Used 외 항목]
1. 기 등록된 사용자 다수 선택
2. Batch Edit> User Group 변경 후 OK
3. 출력로그 확인
4. 인증을 통한 동작 확인

데이터 (Data)
User Group
> Face Group Matching에 설정되어진 User Group

예상 결과 (Expected Result)
1. 선택된 사용자에 그룹매칭에 대한 정보가 업데이트 된다.
> 출력로그: 신규 프로토콜에 대한 로그 추가 예정
2. 업데이트된 설정으로 표시된다.
------------------------------------------------------------
[Step 21]
스텝 (Step)
[사용자 동기화 - Not Used 외 항목]
1. 기 등록된 사용자 다수 선택
2. Batch Edit> Status 변경 후 OK
3. 출력로그 확인
4. 인증을 통한 동작 확인

데이터 (Data)
Status
=> Active/Inactive

예상 결과 (Expected Result)
1. 선택된 사용자에 변경한 정보에 대해 업데이트 된다.
> 출력로그: 신규 프로토콜에 대한 로그 추가 예정
2. 업데이트된 설정으로 동작된다.
------------------------------------------------------------
[Step 22]
스텝 (Step)
[사용자 동기화 - Not Used 외 항목]
1. 기 등록된 사용자 다수 선택
2. Batch Edit> Period 설정 변경 후 OK
3. 출력로그 확인
4. 인증을 통한 동작 확인

데이터 (Data)
Period 설정 변경 범위
=> 현재시간 포함
=> 현재시간 미포함

예상 결과 (Expected Result)
1. 선택된 사용자에 변경한 정보에 대해 업데이트 된다.
> 출력로그: 신규 프로토콜에 대한 로그 추가 예정
2. 업데이트된 설정으로 동작된다.
------------------------------------------------------------
[Step 23]
스텝 (Step)
[사용자 동기화 - Not Used 외 항목]
1. 기 등록된 사용자 다수 선택
2. Batch Edit> Access Group 설정 변경 후 OK
3. 출력로그 확인
4. 인증을 통한 동작 확인

데이터 (Data)
N/A

예상 결과 (Expected Result)
1. 선택된 사용자에 Access Group에 대한 정보가 업데이트 된다.
> 출력로그: 신규 프로토콜에 대한 로그 추가 예정
2. 업데이트된 설정으로 동작된다.
------------------------------------------------------------
[Step 24]
스텝 (Step)
[사용자 동기화 - Not Used 외 항목 & 장치에 사용자 미등록 상태] 
1. 사용자 정보 변경 후 저장
2. 출력로그 확인

데이터 (Data)
사용자 정보
> 위에서 언급된 항목들 중 임의 항목 변경

예상 결과 (Expected Result)
1. 업데이트가 아닌 사용자 전체 정보가 전송된다.
------------------------------------------------------------
[Step 25]
스텝 (Step)
[사용자 동기화 - Not Used 외 항목]
1. 사용자 1,2,3에 대해 CSV Export 수행
2. 서버에서 사용자 2,3 삭제
3. CSV Import 수행
4. 장치에 전송된 출력로그 확인

데이터 (Data)
CSV Import시 옵션
> preserve

예상 결과 (Expected Result)
1. 사용자 1,2,3에 대해 사용자 전체정보가 전송된다.(기존과 동일)
※ CSV Import는 선별업데이트 미지원
------------------------------------------------------------
[Step 26]
스텝 (Step)
[사용자 동기화 - Not Used 외 항목]
1. 사용자 1,2,3에 대해 CSV Export 수행
2. 서버에서 사용자 2,3 삭제
3. CSV Import 수행
4. 장치에 전송된 출력로그 확인

데이터 (Data)
CSV Import시 옵션
> overwrite

예상 결과 (Expected Result)
1. 사용자 1,2,3에 대해 사용자 전체정보가 전송된다.(기존과 동일)
※ CSV Import는 선별업데이트 미지원
------------------------------------------------------------
[Step 27]
스텝 (Step)
[사용자 동기화 - Not Used]
1. 사용자에 등록된 크리덴셜 리스트에 Sync 버튼 출력 유무 확인

데이터 (Data)
등록된 크리덴셜
> Fingerprint
> Face
> Visual Face

예상 결과 (Expected Result)
1. Sync 버튼 표시되지 않는다.
------------------------------------------------------------
[Step 28]
스텝 (Step)
[사용자 동기화 - Not Used 외 항목]
1. 사용자에 크리덴셜 등록 및 수정
2. 사용자에 대해 Apply하지 않은 상태에서 Credential List에 Sync 버튼 출력 유무 확인

데이터 (Data)
크리덴셜
> Fingerprint
> Face
> Visual Face

예상 결과 (Expected Result)
1. Sync 버튼 표시되지 않는다.
------------------------------------------------------------
[Step 29]
스텝 (Step)
[사용자 동기화 - Not Used 외 항목]
1. Fingerprint 가 등록된 사용자 클릭
2. Credential List에서 Sync 버튼 클릭
3. 출력로그 확인
4. 인증을 통한 동작 확인

데이터 (Data)
N/A

예상 결과 (Expected Result)
1. Continue/Cancel 팝업 발생된다.
2. 크리덴셜 수정없이도 업데이트 된다.
> 출력로그: 신규 프로토콜에 대한 로그 추가 예정
3. 장치에서 지원하지 않는 데이터는 전송하지 않는다.
4. 업데이트된 설정으로 동작된다.
------------------------------------------------------------
[Step 30]
스텝 (Step)
[사용자 동기화 - Not Used 외 항목]
1. Face 가 등록된 사용자 클릭
2. Credential List에서 Sync 버튼 클릭
3. 출력로그 확인
4. 인증을 통한 동작 확인

데이터 (Data)
N/A

예상 결과 (Expected Result)
1. 크리덴셜 수정없이도 업데이트 된다.
> 출력로그: 신규 프로토콜에 대한 로그 추가 예정
2. 장치에서 지원하지 않는 데이터는 전송하지 않는다.
3. 업데이트된 설정으로 동작된다.
------------------------------------------------------------
[Step 31]
스텝 (Step)
[사용자 동기화 - Not Used 외 항목]
1. Visual Face 가 등록된 사용자 클릭
2. Credential List에서 Sync 버튼 클릭
3. 출력로그 확인
4. 인증을 통한 동작 확인

데이터 (Data)
N/A

예상 결과 (Expected Result)
1. 크리덴셜 수정없이도 업데이트 된다.
> 출력로그: 신규 프로토콜에 대한 로그 추가 예정
2. 장치에서 지원하지 않는 데이터는 전송하지 않는다.
3. 업데이트된 설정으로 동작된다.
------------------------------------------------------------
[Step 32]
스텝 (Step)
[사용자 동기화: All Devices(including user update from device]
1. 장치에서 사용자 정보 변경
2. 다른 장치에 사용자 정보 업데이트 유무 확인

데이터 (Data)
N/A

예상 결과 (Expected Result)
1. 다른 장치에도 사용자 정보가 업데이트 된다.
------------------------------------------------------------
[Step 33]
스텝 (Step)
[사용자 동기화 - Not Used]
1. 서버에서 Mask에 해당하는 항목들 수정
2. Transfer to device 수행

데이터 (Data)
Transfer to device
> Overwrite 체크/미체크

예상 결과 (Expected Result)
1. 사용자 전체정보가 전송된다.
------------------------------------------------------------
[Step 34]
스텝 (Step)
[사용자 동기화 - Not Used 외 항목]
1. 서버와 장치간 연결 끊음
2. 사용자 정보 변경
3. 서버와 장치간 재연결
4. 인증을 통한 동작 확인

데이터 (Data)
사용자 정보 변경
> 지원하는 Mask에 해당하는 항목

예상 결과 (Expected Result)
1. 변경한 정보에 대해 업데이트 된다.
> 출력로그: 신규 프로토콜에 대한 로그 추가 예정
2. 장치에서 지원하지 않는 데이터는 전송하지 않는다.
3. 업데이트된 설정으로 동작된다.
------------------------------------------------------------
[Step 35]
스텝 (Step)
[사용자 동기화 - Not Used 외 항목]
1. 다수의 카드가 등록된 사용자 클릭
2. 사용자에 등록된 카드 1장 삭제 후 저장
3. 출력로그 확인
4. 인증을 통한 동작 확인

데이터 (Data)
N/A

예상 결과 (Expected Result)
1. 변경한 정보에 대해 업데이트 된다.
> 출력로그: 신규 프로토콜에 대한 로그 추가 예정
2. 업데이트된 설정으로 동작된다.
------------------------------------------------------------
[Step 36]
스텝 (Step)
[사용자 동기화 - Not Used 외 항목]
1. 다수의 카드가 등록된 사용자 클릭
2. 사용자에 등록된 모든 카드 삭제 후 저장
3. 출력로그 확인
4. 인증을 통한 동작 확인

데이터 (Data)
N/A

예상 결과 (Expected Result)
1. 변경한 정보에 대해 업데이트 된다.
> 출력로그: 신규 프로토콜에 대한 로그 추가 예정
2. 업데이트된 설정으로 동작된다.
------------------------------------------------------------
[Step 37]
스텝 (Step)
[사용자 동기화 - Not Used 외 항목 & 선별적 업데이트 기능 미지원 FW 적용 장치]
1. 사용자 정보 변경
2. 출력로그 확인

데이터 (Data)
사용자 정보 변경
> 지원하는 Mask에 해당하는 항목

예상 결과 (Expected Result)
1. 사용자의 전체정보를 전송한다.
> 기존 프로토콜로 동작
------------------------------------------------------------
[Step 38]
스텝 (Step)
[사용자 동기화 - Not Used 외 항목]
1. Device> Sync 수행

데이터 (Data)
N/A

예상 결과 (Expected Result)
1. 사용자의 전제청보를 전송한다.
------------------------------------------------------------
[Step 39]
스텝 (Step)
[사용자 동기화 - Not Used 외 항목]
1. Device> Delete & Sync 수행

데이터 (Data)
N/A

예상 결과 (Expected Result)
1. 사용자의 전제청보를 전송한다.
> Message popup 발생
------------------------------------------------------------
[Step 40]
스텝 (Step)
[사용자 동기화 - Not Used 외 항목]
1. 서버 1:N or 1:1 크리덴셜 Max 등록
2. 서버 사용자 장치와 동기화
(장치, 사용자 동일한 A 사용자 등록 상태)
3. A 사용자 크리덴셜 2~3개 추가 등록 후 저장
4. 출력 로그 확인
5. 인증을 통한 동작 확인

데이터 (Data)
Credential
=> Finger
=> Card/QR 포함
=> Face 
=> Visual Face

예상 결과 (Expected Result)
1. 최대 지원하는 갯수에 오버되기 때문에 변경한 정보에 대해 업데이트 되지 않는다.
> 원본 데이터 유지
2. 장치에서 지원하지 않는 데이터는 전송하지 않는다.
3. 서버에서 추가한 크리덴셜에 대해서는 인증실패로 동작된다.
4. 로그 출력 확인
> 장치의 max 템플릿 수 초과
영문 : User partial update failed (Exceeded max credential count)
국문 : 사용자 부분 업데이트 실패 (최대 크리덴셜 수 초과)
------------------------------------------------------------
[Step 41]
스텝 (Step)
[사용자 동기화 - Not Used 외 항목]
1. 서버와 Fingerprint Template Format이 상이한 장치 추가
2. 기 등록 사용자의 Fingerprint 설정 변경 후 저장
3. 출력로그 확인
4. 인증을 통한 동작 확인

데이터 (Data)
Fingerprint Template Format
> Suprema
> ISO
> ANSI378

예상 결과 (Expected Result)
1. Template Format이 상이하기 때문에 변경한 정보에 대해 업데이트 되지 않는다.
2. 장치에서 지원하지 않는 데이터는 전송하지 않는다.
------------------------------------------------------------
[Step 42]
스텝 (Step)
[사용자 동기화 - Not Used 외 항목]
1. Visual Face 기 등록 사용자 클릭> Visual Face 이미지 변경 후 저장
2. 출력로그 확인

데이터 (Data)
Visual Face 이미지 변경
> 큰 이미지
> 작은 이미지
> 사람이 아닌 이미지

예상 결과 (Expected Result)
1. 변경한 정보에 대해 업데이트 되지 않는다.
> 원본 데이터 유지
------------------------------------------------------------
[Step 43]
스텝 (Step)
[사용자 동기화 - Not Used 외 항목]
1. 장치에서 A 사용자 삭제
2. 서버에서 A 사용자 수정
3. 출력로그 확인

데이터 (Data)
N/A

예상 결과 (Expected Result)
1. 로그 출력 확인
장치에 해당 사용자 없음
영문 : User partial update failed (User does not exist)
국문 : 사용자 부분 업데이트 실패 (사용자 없음)
------------------------------------------------------------
