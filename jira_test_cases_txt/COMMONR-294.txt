■ 이슈 키: COMMONR-294
■ 제목: [BDP-673] 특정 기능에 대한 라이선스 활성화 기능 - 동작
■ 설명: https://jira.suprema.co.kr/browse/BDP-673

장치에서의 특정 기능 사용에 대해 과금이나 서비스 이용을 파악하기 위한 용도로 라이선스를 도입하고자 한다.
따라서 제공된 라이선스를 장치의 USB나 BioStar 2 를 통해 활성화하는 동작 추가가 요구된다.

1) 바이오스타에서 장치로 라이선스를 보낼때 실패케이스
=> 보낼 때는 network 상태가 normal 이었는데 보내는 중에 급 disconnect 되었을 때.
=> 보낼 때는 해당 라이선스가 아직 활성화 되지 않은 상태였는데 다른 방법(USB 혹은 바이오스타)으로 라이선스를 먼저 활성화 시켜버리는 경우

2) Master에서 Slave로 라이선스를 보낼때 실패케이스
=> 보낼 때는 통신상태가 normal 이었는데 보내는 중에 급 disconnect 되었을 때.
============================================================

■ 테스트 스텝

[Step 1]
스텝 (Step)
1. Settings> License
2. Browse> License File 불러오기
3. Device List에서 장치선택
4. Activate 클릭

데이터 (Data)
N/A

예상 결과 (Expected Result)
1. 불러온 라이선스 파일이 선택된 장치에 전송된다.
=> 선택된 장치가 슬레이브인 경우, 그 장치의 마스터 장치로 전송
------------------------------------------------------------
[Step 2]
스텝 (Step)
1. 라이선스 전송된 장치의 UI 확인
=> 메뉴> 사용자> 상세페이지
=> 메뉴> 인증> 인증모드
=> 인증 프리뷰 화면

데이터 (Data)
N/A

예상 결과 (Expected Result)
1. 라이선스가 전송된 경우 QR관련 UI가 변경된다.
=> Auth Mode> Card Icon이 Card/QR​로 표시
=> 인증 프리뷰 화면​
=> 유저 상세에서 card > card / QR Code​로 표시
------------------------------------------------------------
[Step 3]
스텝 (Step)
[장치 라이선스가 전송되지 않은 장치]
1. 장치> 상세정보창
2. QR/Barcode UI 확인

데이터 (Data)
N/A

예상 결과 (Expected Result)
1. 비활성화되어 표시된다.
------------------------------------------------------------
[Step 4]
스텝 (Step)
[장치 라이선스가 전송된 장치]
1. 장치> 상세정보창
2. QR/Barcode UI 확인

데이터 (Data)
N/A

예상 결과 (Expected Result)
1. 활성화되어 표시된다.
------------------------------------------------------------
[Step 5]
스텝 (Step)
1. 라이선스 전송 성공한 장치의 이벤트 로그 확인
=> 바이오스타> 모니터링
=> 장치> 이벤트 로그

데이터 (Data)
확인 케이스
> 바이오스타에서 장치로 전송
> 마스터에서 슬레이브로 전송

예상 결과 (Expected Result)
1. 다음의 이벤트 로그가 남는다.
국문 : 라이선스 활성화 성공
영문 : License Activation Succeeded
------------------------------------------------------------
[Step 6]
스텝 (Step)
1. 라이선스 전송 실패한 장치의 이벤트 로그 확인
=> 바이오스타> 모니터링
=> 장치> 이벤트 로그

데이터 (Data)
확인 케이스
> 바이오스타에서 장치로 전송
> 마스터에서 슬레이브로 전송

예상 결과 (Expected Result)
1. 다음의 이벤트 로그가 남는다.
국문 : 라이선스 활성화 실패
영문 : License Activation Failed
------------------------------------------------------------
[Step 7]
스텝 (Step)
1. 라이선스 비활성화 성공한 장치의 이벤트 로그 확인
=> 바이오스타> 모니터링
=> 장치> 이벤트 로그

데이터 (Data)
확인 케이스
> 바이오스타에서 장치로 전송
> 마스터에서 슬레이브로 전송

예상 결과 (Expected Result)
1. 다음의 이벤트 로그가 남는다.
국문 : 라이선스 비활성화 성공
영문 : License Deactivation Succeeded

추후 확인케이스
------------------------------------------------------------
[Step 8]
스텝 (Step)
1. 라이선스 비활성화 실패한 장치의 이벤트 로그 확인
=> 바이오스타> 모니터링
=> 장치> 이벤트 로그

데이터 (Data)
확인 케이스
> 바이오스타에서 장치로 전송
> 마스터에서 슬레이브로 전송

예상 결과 (Expected Result)
1. 다음의 이벤트 로그가 남는다.
국문 : 라이선스 비활성화 실패
영문 : License Deactivation Failed

추후 확인케이스
------------------------------------------------------------
[Step 9]
스텝 (Step)
1. 라이선스 만료로 인한 비활성화된 장치의 이벤트 로그 확인
=> 바이오스타> 모니터링
=> 장치> 이벤트 로그

데이터 (Data)
N/A

예상 결과 (Expected Result)
1. 다음의 이벤트 로그가 남는다.
국문 : 라이선스 만료
영문 : License Expired

추후 확인케이스
------------------------------------------------------------
