■ 이슈 키: COMMONR-241
■ 제목: 인증제한구역(Authentication Limit Zone)
============================================================

■ 테스트 스텝

[Step 1]
스텝 (Step)
<인증제한구역 추가된 상태>
1. 인증제한 구역 추가
2. 다른 인증제한구역에 설정된 장치선택 후 저장

데이터 (Data)
N/A

예상 결과 (Expected Result)
1. 에러팝업이 출력된다.
> 다른 인증제한구역에 설정된 장치를 선택 후 저장불가
------------------------------------------------------------
[Step 2]
스텝 (Step)
1. 인증제한 구역 추가
2. Network Failure Action 설정
3. 장치 및 인증제한스케줄 설정 후 저장
4. 서버 종료 or 장치랜선 물리적 제거 
5. 장치에 인증을 시도

데이터 (Data)
Network Failure Action
> 인증 시 인증 성공

예상 결과 (Expected Result)
1. 설정된 인증 횟수와 관계없이 인증 성공으로 동작된다.
------------------------------------------------------------
[Step 3]
스텝 (Step)
1. 인증제한 구역 추가
2. Network Failure Action 설정
3. 장치 및 인증제한스케줄 설정 후 저장
4. 서버 종료 or 장치랜선 물리적 제거 
5. 장치에 인증을 시도

데이터 (Data)
Network Failure Action
> 네트워크 끊김 예외(Network fail exception)

예상 결과 (Expected Result)
1. 설정된 인증 횟수와 관계없이 인증성공으로 동작되고 로그가 남는다.
------------------------------------------------------------
[Step 4]
스텝 (Step)
1. 인증제한 구역 추가
2. Network Failure Action 설정
3. 장치 및 인증제한스케줄 설정 후 저장
4. 서버 종료 or 장치랜선 물리적 제거 
5. 장치에 인증을 시도

데이터 (Data)
Network Failure Action
> 네트워크 끊김 제한(Network fail limit)

예상 결과 (Expected Result)
1. 인증실패로 동작되고 로그가 남는다.
------------------------------------------------------------
[Step 5]
스텝 (Step)
1. 인증제한구역 추가
2. 휴일 1개가 설정된 스케줄 설정> 동작확인
3. 휴일 2개가 설정된 스케줄 설정> 동작확인
4. 휴일 3개가 설정된 스케줄 설정> 동작확인
5. 휴일 4개가 설정된 스케줄 설정> 동작확인

데이터 (Data)
Daily 스케줄 설정
> 휴일 1개 설정
> 휴일 2개 설정
> 휴일 3개 설정
> 휴일 4개 설정

예상 결과 (Expected Result)
1. 휴일에 설정된 인증 횟수에 맞게 장치 인증이 동작 된다.
------------------------------------------------------------
[Step 6]
스텝 (Step)
1. 인증제한구역 추가
2. 휴일 1개가 설정된 스케줄 설정> 동작확인
3. 휴일 2개가 설정된 스케줄 설정> 동작확인
4. 휴일 3개가 설정된 스케줄 설정> 동작확인
5. 휴일 4개가 설정된 스케줄 설정> 동작확인

데이터 (Data)
Weekly 스케줄 설정
> 휴일 1개 설정
> 휴일 2개 설정
> 휴일 3개 설정
> 휴일 4개 설정

예상 결과 (Expected Result)
1. 휴일에 설정된 인증 횟수에 맞게 장치 인증이 동작 된다.
------------------------------------------------------------
[Step 7]
스텝 (Step)
1. 인증제한구역 추가
2. Daily 스케줄 설정> 동작확인

데이터 (Data)
Daily 스케줄 설정
> 23시 ~ 01시 설정

예상 결과 (Expected Result)
1. 스케줄의 Time Slot의 시간이 연속될 경우에는 날짜가 변경되더라도 이전 날짜의 Time Slot에 시간이 반영되어 표시되고 동작 된다.
> Day1의 Time Slot이 23~24시이고 Day2의 Time Slot이 00~01일 경우 Day1 Time segment의 Time slot으로 23~01로 표시되고 동작 됨
------------------------------------------------------------
[Step 8]
스텝 (Step)
1. 인증제한구역 추가
2. Weekly 스케줄 설정> 동작확인

데이터 (Data)
Weekly 스케줄 설정
> 23시 ~ 01시 설정

예상 결과 (Expected Result)
1. 스케줄의 Time Slot의 시간이 연속될 경우에는 요일이 변경되더라도 이전 요일의 Time Slot에 시간이 반영되어 표시되고 동작 된다.
> 월요일의 Time Slot이 23~24시이고 화요일의 Time Slot이 00~01일 경우 월요일 Time segment의 Time slot으로 23~01로 표시되고 동작 됨
------------------------------------------------------------
[Step 9]
스텝 (Step)
1. 인증제한구역 추가
2. 스케줄 선택
3. 인증횟수 입력 후 저장
4. 설정한 인증횟수만큼 인증을 통해 동작확인

데이터 (Data)
인증제한횟수
> 1 ~ 254 지원(Default: '-')

예상 결과 (Expected Result)
1. 인증횟수만큼 인증이 가능하다.
------------------------------------------------------------
[Step 10]
스텝 (Step)
1. 인증제한구역 추가
2. 스케줄 선택
3. 인증횟수 입력
4. 출입그룹 선택 후 저장
5. 동작확인

데이터 (Data)
출입그룹설정
> 단일
> 다중

예상 결과 (Expected Result)
1. 모든 출입그룹 선택 가능하며 다중 선택 시 출입그룹명+n개로 출력된다. 
2. 설정한 출입그룹 Time Slot에 설정된 인증횟수만큼 인증 성공된다.
------------------------------------------------------------
[Step 11]
스텝 (Step)
1. 인증제한구역 추가
2. 스케줄을 선택한다.
3. Time Segment의 인증횟수와 A 출입그룹 설정
4. +Add버튼> 인증횟수와 B 출입그룹 설정
5. 동작확인

데이터 (Data)
각각의 출입그룹에 동일 사용자 추가
> A/B 출입그룹에 A 사용자 중복설정

예상 결과 (Expected Result)
1. 맨 위에 설정된 인증횟수로 동작된다.
> 인증제한구역에 설정된 출입그룹에 사용자가 중복 될 경우 상위 라인의 출입그룹으로 동작(사양)
------------------------------------------------------------
[Step 12]
스텝 (Step)
1. 인증제한구역 추가
2. 장치, 스케줄, 인증횟수, 출입그룹 설정
3. Alarm 설정
4. 설정한 스케줄이 아닌 시간대에 인증시도

데이터 (Data)
Alarm
> Auth limit(Schedule) 설정
> Action: Output(Max. 128지원)

예상 결과 (Expected Result)
1. Auth limit(Schedule) 이벤트가 발생되어 설정한 알람 Action이 동작된다.
------------------------------------------------------------
[Step 13]
스텝 (Step)
1. 인증제한구역 추가
2. 장치, 스케줄, 인증횟수, 출입그룹 설정
3. Alarm 설정
4. 설정한 인증횟수를 초과해 인증시도

데이터 (Data)
Alarm
> Auth limit(Count) 설정
> Action: Output(Max. 128지원)

예상 결과 (Expected Result)
1. Auth limit(Count) 이벤트가 발생되어 설정한 알람 Action이 동작된다.
------------------------------------------------------------
[Step 14]
스텝 (Step)
1. 인증제한구역 추가
2. 장치, 스케줄, 인증횟수, 출입그룹 설정
3. Alarm 설정
4. 설정한 출입그룹에 속하지 않은 사용자로 인증시도

데이터 (Data)
Alarm
> Auth limit(Access Group) 설정
> Action: Output(Max. 128지원)

예상 결과 (Expected Result)
1. Auth limit(Access Group) 이벤트가 발생되어 설정한 알람 Action이 동작된다.
------------------------------------------------------------
[Step 15]
스텝 (Step)
1. 인증제한구역 추가
2. 장치, 스케줄, 인증횟수, 출입그룹 설정
3. Alarm 설정
4. 설정한 스케줄이 아닌 시간대에 인증시도

데이터 (Data)
Alarm
> Auth limit(Schedule) 설정
> Action: Alert Sound or Buzzer

예상 결과 (Expected Result)
1. Auth limit(Schedule) 이벤트가 발생되어 설정한 알람 Action이 동작된다.
------------------------------------------------------------
[Step 16]
스텝 (Step)
1. 인증제한구역 추가
2. 장치, 스케줄, 인증횟수, 출입그룹 설정
3. Alarm 설정
4. 설정한 인증횟수를 초과해 인증시도

데이터 (Data)
Alarm
> Auth limit(Count) 설정
> Action: Alert Sound or Buzzer

예상 결과 (Expected Result)
1. Auth limit(Count) 이벤트가 발생되어 설정한 알람 Action이 동작된다.
------------------------------------------------------------
[Step 17]
스텝 (Step)
1. 인증제한구역 추가
2. 장치, 스케줄, 인증횟수, 출입그룹 설정
3. Alarm 설정
4. 설정한 출입그룹에 속하지 않은 사용자로 인증시도

데이터 (Data)
Alarm
> Auth limit(Access Group) 설정
> Action: Alert Sound or Buzzer

예상 결과 (Expected Result)
1. Auth limit(Access Group) 이벤트가 발생되어 설정한 알람 Action이 동작된다.
------------------------------------------------------------
[Step 18]
스텝 (Step)
1. 출입통제> 인증제한구역에 설정된 출입그룹 선택> 사용자 추가
2. 추가된 사용자로 인증시도
3. 출입통제 > 인증제한구역에 설정된 출입그룹 선택> 사용자 삭제
4. 삭제한 사용자로 인증시도

데이터 (Data)
N/A

예상 결과 (Expected Result)
1. 추가한 사용자가 인증횟수만큼 인증성공된다.
2. 삭제한 사용자로는 인증실패된다.
------------------------------------------------------------
[Step 19]
스텝 (Step)
1. 출입통제> 인증제한구역에 설정된 출입그룹 선택> 사용자그룹 추가
2. 추가된 그룹에 속한 사용자로 인증시도
3. 출입통제 > 인증제한구역에 설정된 출입그룹 선택> 사용자그룹 삭제
4. 삭제한 사용자 그룹에 속한 사용자로 인증시도

데이터 (Data)
N/A

예상 결과 (Expected Result)
1. 추가한 사용자가 인증횟수만큼 인증성공된다.
2. 삭제한 사용자로는 인증실패된다.
------------------------------------------------------------
[Step 20]
스텝 (Step)
1. 기 추가된 인증제한구역 선택
2. 구역에 설정된 스케줄 수정/삭제 시도

데이터 (Data)
N/A

예상 결과 (Expected Result)
1. 인증제한구역에 설정된 스케줄은 편집이 불가능하다.
------------------------------------------------------------
[Step 21]
스텝 (Step)
1. 인증제한구역 추가
2. Alarm 설정
3. 인증 제한에 의한 Alarm 발생
4. 인증제한구역 삭제시도

데이터 (Data)
N/A

예상 결과 (Expected Result)
1. Alarm이 발생한 경우에도 삭제가 가능하다.
------------------------------------------------------------
[Step 22]
스텝 (Step)
1. 인증제한구역 추가
2. Alarm 설정
3. 인증 제한에 의한 Alarm 발생
4. Zone Status의 Alarm 출력여부 확인
5. 인증제한구역 설정변경없이 적용
6. Zone Status의 Alarm 출력여부 확인

데이터 (Data)
N/A

예상 결과 (Expected Result)
1. Active/Inactive 설정과 무관하게 Alarm 상태를 유지해야 한다.
------------------------------------------------------------
